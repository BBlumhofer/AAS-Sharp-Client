# AAS-Sharp-Client

A lightweight C# extension for the Eclipse Basyx .NET SDK that generates and exposes strongly-typed custom classes for Submodels defined in templates. Ziel ist es, aus in Templates abgelegten Submodellen automatisch C#-Klassen inkl. Methoden zu erzeugen und diese nahtlos mit dem `basyx-dotnet` SDK nutzbar zu machen.

## Projektziel
- Erweiterung des `basyx-dotnet` SDK so, dass Submodel-Templates in strongly-typed C#-Klassen abgebildet werden.
- Unterstützung von Methoden / Operationen, die in Submodel-Templates definiert sind (z. B. Inputs, Outputs, Ausführungslogik-Aufrufe über REST/OPC UA etc.).
- Einfaches Entwickeln, Testen und Deployen von Custom-Submodels für Asset Administration Shells (AAS) in .NET-Projekten.

## Hauptfunktionen (geplant)
- Template-Parser: Liest Submodel-Templates (JSON/JSON-LD) und extrahiert Properties, Sub-Submodels und Operationen.
- Code-Generator: Erzeugt C#-POCO-Klassen inkl. Serialisierung/Deserialisierung.
- Methoden-Stub-Generator: Erstellt Methoden-Signaturen für Submodel-Operationen und optionale Default-Implementierungen.
- Integrationslayer: Wrapper/Adapter, die generierte Klassen an `basyx-dotnet` Objekte binden (z. B. `Submodel`, `SubmodelElement`), einschließlich CRUD und Invoke-Operationen.
- Template-Repository-Schnittstelle: Unterstützung für lokale Templates, Git-Repos oder registrierte Template-Registries.

## Architektur-Überblick
- `TemplateParser` — Analysiert Template-Dateien und erzeugt ein Zwischenmodell (AST).
- `ModelGenerator` — Erzeugt C#-Quelltext aus dem Zwischenmodell und bietet Optionen (z. B. Namespaces, Async-Support).
- `BasyxAdapter` — Verantwortlich für die Abbildung zwischen generierten Klassen und `basyx-dotnet` Laufzeitobjekten.
- `CLI` / `MSBuild`-Task — Optionaler Weg, Klassen beim Build zu generieren oder per Kommandozeile zu erzeugen.

## Beispiel-Workflows
- Entwickler legt ein Submodel-Template (`.jsonld`) in ein Template-Verzeichnis.
- CLI / MSBuild-Task generiert C#-Klassen in Zielnamespace `AasSharpClient.Models`.
- Anwendung instanziiert generierte Klasse und registriert sie mit `BasyxAdapter` an einem laufenden AAS-Server.

## Offene Fragen / Entscheidungs-Punkte (für Implementierung durch LLM)
1. Welche Template-Formate müssen prioritär unterstützt werden? (`JSON`, `JSON-LD`, `AASX`?)
2. Wie sollen Operationen methodisch abgebildet werden: synchronous methods, async Task, oder beide?
3. Wie werden komplexe Datentypen (Envelopes, DataSpecifications, Referenzen) übersetzt? Flache POCOs, Nested-Classes oder `JObject`-Fallback?
4. Error-/Exception-Modell: Wie sollen Fehler bei Operation-Invoke, Mapping und Serialisierung gehandhabt werden?
5. Versioning: Wie gehen wir mit Template-Änderungen und generiertem Code um (Fingerprinting, Partial classes, Regeneration-Strategie)?
6. Extensibility: Plugin-Schnittstelle für benutzerdefinierte Typen/Mapping (z. B. für domänenspezifische Datentypen)?
7. Tests: Welche Test-Strategie (Unit, Integration gegen Basysx-Stub/Mock)?
8. Integration mit `basyx-dotnet`: Welche Basisklassen/Interfaces aus dem offiziellen Repo sollen verwendet werden? (Link unten)
9. Security / Auth: Muss Adapter Authentifizierungs-Mechanismen (OAuth2, Basic, Zertifikate) weiterleiten?
10. Deployment: Soll das Projekt NuGet-Paket + SourceGenerator oder konventioneller Code-Generator werden?

Bitte priorisieren und kurze Antworten/Entscheidungen zu diesen Punkten geben, damit die spätere Implementierung konsistent ist.

## Roadmap (erste Schritte)
- [ ] Abgrenzung der unterstützten Template-Formate.
- [ ] Minimaler Parser für `JSON`/`JSON-LD` Submodel-Templates.
- [ ] Proof-of-Concept: Generator erzeugt POCO + Adapter für einfache Property-Get/Set.
- [ ] Implementierung von Operation-Stub-Generation (sync/async Option).
- [ ] Integrationstest mit `basyx-dotnet` Beispiel-Server.

## Zusammenarbeit
Dieses README dient als lebendiges Dokument. Nutze es, um Entscheidungen, Anforderungen und offene Aufgaben festzuhalten, die ein LLM oder Entwicklerteam für die Umsetzung benötigt. Bitte beantworte die offenen Fragen oben oder markiere Prioritäten.

## Referenzen
- Eclipse Basyx .NET SDK: https://github.com/eclipse-basyx/basyx-dotnet

## Lizenz
Standardmäßig kein Lizenz-Text enthalten — bitte Projektlizenz ergänzen.
